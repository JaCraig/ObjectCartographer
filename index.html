<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
      <title>ObjectCartographer | ObjectCartographer API Reference </title>
      <meta name="viewport" content="width=device-width, initial-scale=1.0">
      <meta name="title" content="ObjectCartographer | ObjectCartographer API Reference ">
      
      
      <link rel="icon" href="favicon.ico">
      <link rel="stylesheet" href="public/docfx.min.css">
      <link rel="stylesheet" href="public/main.css">
      <meta name="docfx:navrel" content="toc.html">
      <meta name="docfx:tocrel" content="toc.html">
      
      <meta name="docfx:rel" content="">
      
      
      <meta name="docfx:docurl" content="https://github.com/JaCraig/ObjectCartographer/blob/main/docfx_project/index.md/#L1">
      <meta name="loc:inThisArticle" content="In this article">
      <meta name="loc:searchResultsCount" content="{count} results for &quot;{query}&quot;">
      <meta name="loc:searchNoResults" content="No results for &quot;{query}&quot;">
      <meta name="loc:tocFilter" content="Filter by title">
      <meta name="loc:nextArticle" content="Next">
      <meta name="loc:prevArticle" content="Previous">
      <meta name="loc:themeLight" content="Light">
      <meta name="loc:themeDark" content="Dark">
      <meta name="loc:themeAuto" content="Auto">
      <meta name="loc:changeTheme" content="Change theme">
      <meta name="loc:copy" content="Copy">
      <meta name="loc:downloadPdf" content="Download PDF">

      <script type="module" src="./public/docfx.min.js"></script>

      <script>
        const theme = localStorage.getItem('theme') || 'auto'
        document.documentElement.setAttribute('data-bs-theme', theme === 'auto' ? (window.matchMedia('(prefers-color-scheme: dark)').matches ? 'dark' : 'light') : theme)
      </script>

  </head>

  <body class="tex2jax_ignore" data-layout="" data-yaml-mime="">
    <header class="bg-body border-bottom">
      <nav id="autocollapse" class="navbar navbar-expand-md" role="navigation">
        <div class="container-xxl flex-nowrap">
          <a class="navbar-brand" href="index.html">
            <img id="logo" class="svg" src="images/icon.png" alt="ObjectCartographer">
            ObjectCartographer
          </a>
          <button class="btn btn-lg d-md-none border-0" type="button" data-bs-toggle="collapse" data-bs-target="#navpanel" aria-controls="navpanel" aria-expanded="false" aria-label="Toggle navigation">
            <i class="bi bi-three-dots"></i>
          </button>
          <div class="collapse navbar-collapse" id="navpanel">
            <div id="navbar">
              <form class="search" role="search" id="search">
                <i class="bi bi-search"></i>
                <input class="form-control" id="search-query" type="search" disabled placeholder="Search" autocomplete="off" aria-label="Search">
              </form>
            </div>
          </div>
        </div>
      </nav>
    </header>

    <main class="container-xxl">

      <div class="content">
        <div class="actionbar">

          <nav id="breadcrumb"></nav>
        </div>

        <article data-uid="">
<h1 id="objectcartographer">ObjectCartographer</h1>

<p><a href="https://github.com/JaCraig/ObjectCartographer/actions/workflows/dotnet-publish.yml"><img src="https://github.com/JaCraig/ObjectCartographer/actions/workflows/dotnet-publish.yml/badge.svg" alt=".NET Publish"></a> <a href="https://coveralls.io/github/JaCraig/ObjectCartographer?branch=main"><img src="https://coveralls.io/repos/github/JaCraig/ObjectCartographer/badge.svg?branch=main" alt="Coverage Status"></a></p>
<p>ObjectCartographer is a fast, convention based, and developer friendly object to object mapper. It's designed to simplify your life and remove the drudgery of writing code to copy data from one object to another.</p>
<h2 id="setting-up-the-library">Setting Up the Library</h2>
<p>ObjectCartographer uses a library called Canister for registering itself in your ServiceCollection:</p>
<pre><code>servicecollection.AddCanisterModules();
</code></pre>
<p>With that ObjectCartographer will automatically register any converters found in your application and work with your DI system if you are using one, allowing you to access the DataMapper object at run time if you need to. Otherwise if you are not using one, you can simply use the extension methods and it will wire itself up.</p>
<h2 id="basic-usage">Basic Usage</h2>
<p>Once the initial setup is done, we need to map our objects to each other. This is accomplished in a number of different ways. First by using the DataMapper class:</p>
<pre><code>DataMapper.Map&lt;MyClass1, MyClass2&gt;()
            .AddMapping(MyClass1 =&gt; MyClass1.PropertyToReadFrom, (MyClass2, value) =&gt; MyClass2.PropertyToWriteTo = value)
            .AddMapping(MyClass1 =&gt; MyClass1.Property1 + MyClass1.Property2, (MyClass1, value) =&gt; MyClass2.ComputedProperty = value)
            .AddMapping(MyClass1 =&gt; MyClass1.A.B.C.D, (MyClass1, value) =&gt; MyClass2.ProjectionProperty = value)
            .Build();
</code></pre>
<p>The above code could also be written using the extension method Map:</p>
<pre><code>MyClass1Object.Map&lt;MyClass1, MyClass2&gt;()
                .AddMapping(MyClass1 =&gt; MyClass1.PropertyToReadFrom, (MyClass2, value) =&gt; MyClass2.PropertyToWriteTo = value)
                .AddMapping(MyClass1 =&gt; MyClass1.Property1 + MyClass1.Property2, (MyClass1, value) =&gt; MyClass2.ComputedProperty = value)
                .AddMapping(MyClass1 =&gt; MyClass1.A.B.C.D, (MyClass1, value) =&gt; MyClass2.ProjectionProperty = value)
                .Build();
				
</code></pre>
<p>You can also supply your own method for copying the data:</p>
<pre><code>MyClass1Object.Map&lt;MyClass1, MyClass2&gt;()
                .UseMethod(MyCopier)
                .Build();
</code></pre>
<p>It's also possible, if you'd prefer, for the system to map everything for you based on the conventions that the system uses:</p>
<pre><code>DataMapper.AutoMap&lt;MyClass1, MyClass2&gt;();
</code></pre>
<p>Or:</p>
<pre><code>MyClass1Object.AutoMap&lt;MyClass2&gt;();
</code></pre>
<p>And lastly, you can simply skip the above steps all together and simply start using the library:</p>
<pre><code>MyClass2 Result = MyClass1Object.To&lt;MyClass2&gt;();
</code></pre>
<p>If you don't set up the mapping beforehand, the library will go through the properties on MyClass1 and map them to properties with the same name on MyClass2. It compares the property names by first looking for exact matches, then it will drop underscores and compare them ignoring case.</p>
<h2 id="give-me-speed">Give Me Speed</h2>
<p>The library is about 34% faster than AutoMapper in more complex scenarios:</p>
<pre><code class="lang-ini">
BenchmarkDotNet=v0.13.0, OS=Windows 10.0.18363.1440 (1909/November2019Update/19H2)
Intel Core i7-9850H CPU 2.60GHz, 1 CPU, 12 logical and 6 physical cores
.NET SDK=5.0.203
  [Host]     : .NET 5.0.6 (5.0.621.22011), X64 RyuJIT
  DefaultJob : .NET 5.0.6 (5.0.621.22011), X64 RyuJIT


</code></pre>
<table>
<thead>
<tr>
<th>Method</th>
<th style="text-align: right;">Mean</th>
<th style="text-align: right;">Error</th>
<th style="text-align: right;">StdDev</th>
<th style="text-align: right;">Ratio</th>
<th style="text-align: right;">RatioSD</th>
<th style="text-align: right;">Rank</th>
</tr>
</thead>
<tbody>
<tr>
<td>AutoMapper</td>
<td style="text-align: right;">91.575 ns</td>
<td style="text-align: right;">0.9259 ns</td>
<td style="text-align: right;">0.8661 ns</td>
<td style="text-align: right;">1.34</td>
<td style="text-align: right;">0.02</td>
<td style="text-align: right;">2</td>
</tr>
<tr>
<td>ObjectCartographer</td>
<td style="text-align: right;">68.374 ns</td>
<td style="text-align: right;">0.6952 ns</td>
<td style="text-align: right;">0.6163 ns</td>
<td style="text-align: right;">1.00</td>
<td style="text-align: right;">0.00</td>
<td style="text-align: right;">1</td>
</tr>
</tbody>
</table>
<p>And about 350% faster when an object is supplied to it and only data copying is required.</p>
<pre><code class="lang-ini">
BenchmarkDotNet=v0.13.0, OS=Windows 10.0.18363.1440 (1909/November2019Update/19H2)
Intel Core i7-9850H CPU 2.60GHz, 1 CPU, 12 logical and 6 physical cores
.NET SDK=5.0.203
  [Host]     : .NET 5.0.6 (5.0.621.22011), X64 RyuJIT
  DefaultJob : .NET 5.0.6 (5.0.621.22011), X64 RyuJIT


</code></pre>
<table>
<thead>
<tr>
<th>Method</th>
<th style="text-align: right;">Mean</th>
<th style="text-align: right;">Error</th>
<th style="text-align: right;">StdDev</th>
<th style="text-align: right;">Median</th>
<th style="text-align: right;">Ratio</th>
<th style="text-align: right;">RatioSD</th>
<th style="text-align: right;">Rank</th>
</tr>
</thead>
<tbody>
<tr>
<td>AutoMapper</td>
<td style="text-align: right;">88.796 ns</td>
<td style="text-align: right;">1.4598 ns</td>
<td style="text-align: right;">3.2951 ns</td>
<td style="text-align: right;">87.404 ns</td>
<td style="text-align: right;">3.48</td>
<td style="text-align: right;">0.16</td>
<td style="text-align: right;">2</td>
</tr>
<tr>
<td>ObjectCartographer</td>
<td style="text-align: right;">26.804 ns</td>
<td style="text-align: right;">0.2989 ns</td>
<td style="text-align: right;">0.2650 ns</td>
<td style="text-align: right;">26.712 ns</td>
<td style="text-align: right;">1.00</td>
<td style="text-align: right;">0.00</td>
<td style="text-align: right;">1</td>
</tr>
</tbody>
</table>
<h2 id="installation">Installation</h2>
<p>The library is available via Nuget with the package name &quot;ObjectCartographer&quot;. To install it run the following command in the Package Manager Console:</p>
<p>Install-Package ObjectCartographer</p>
<p>Note that there is a package that adds mapping for ADO.Net specific data types: &quot;ObjectCartographer.SQL&quot; so the system can do things like map DbType to SqlDbType along with other functionality.</p>
<h2 id="faq">FAQ</h2>
<ol>
<li>How do I add my own converter to the system?</li>
</ol>
<p>You would need to implement the ObjectCartographer.ExpressionBuilder.Interfaces.IConverter interface. There is also the ObjectCartographer.ExpressionBuilder.BaseClasses.ConverterBaseClass abstract class to help with destination object creation/copy constructor discovery which is good in instances where you are mapping more complex objects. For simple data conversions like string to an int, the IConverter interface should be enough.</p>
<h2 id="build-process">Build Process</h2>
<p>In order to build the library you may require the following:</p>
<ol>
<li>Visual Studio 2022</li>
</ol>
<p>Other than that, just clone the project and you should be able to load the solution and build without too much effort.</p>

</article>

        <div class="contribution d-print-none">
          <a href="https://github.com/JaCraig/ObjectCartographer/blob/main/docfx_project/index.md/#L1" class="edit-link">Edit this page</a>
        </div>

        <div class="next-article d-print-none border-top" id="nextArticle"></div>

      </div>

      <div class="affix">
        <nav id="affix"></nav>
      </div>
    </main>

    <div class="container-xxl search-results" id="search-results"></div>

    <footer class="border-top text-secondary">
      <div class="container-xxl">
        <div class="flex-fill">
          <strong><a href='https://github.com/JaCraig/ObjectCartographer'>Open in Github</a></strong>
        </div>
      </div>
    </footer>
  </body>
</html>
